function find_cross_point(x1,y1,x2,y2, x3,y3,x4,y4) {
    let dx1 = (x1 - x2)
    let dx2 = (x3-x4)
    let dy1 = (y1 - y2)
    let dy2 = (y3 - y4)
    let x, y
    
    let m1 = dy1 / dx1,
        m2 = dy2 / dx2,
        c1 = (y1 - m1*x1),
        c2 = (y3 - m2*x3)
    //vertical line
    if ( m1 == m2) {
        return {f:false, data:{}}
    }

    if (dx1 == 0) {
        x = x1
        y = m2*x + c2
        // determine y
    } else if (dx2 == 0) {
        x = x3
        y = m1*x + c1
    } else if (dy1 == 0) {
        y = y1 
        x = (y - c2)/ m2
    } else if (dy2 == 0) {
        y = y3
        x = (y - c1)/ m1
    } else {
        y = (m1*c2 - m2*c1) / (m1 - m2)
        x = (c1 - c2) / (m2 - m1)
    }
    

    let min_bet_x1_x2 = x1 < x2 ? x1:x2
    let min_bet_y1_y2 = y1 < y2 ? y1:y2
    let max_bet_x1_x2 = x1 > x2 ? x1:x2
    let max_bet_y1_y1 = y1 > y2 ? y1:y2

    let min_bet_x3_x4 = x3 < x4 ? x3:x4
    let min_bet_y3_y4 = y3 < y4 ? y3:y4
    let max_bet_x3_x4 = x3 > x4 ? x3:x4
    let max_bet_y3_y4 = y3 > y4 ? y3:y4

    drawLine2(x3,y3,x4,y4)
    if ((x>=min_bet_x1_x2 && x<=max_bet_x1_x2) && (y>=min_bet_y1_y2 && y<=max_bet_y1_y1) && (x>=min_bet_x3_x4 && x<=max_bet_x3_x4) && (y>=min_bet_y3_y4 && y<=max_bet_y3_y4)) {
        console.log("cross point: ",x, y)
        drawCircle(x,y)
    }
}




/*
linedrawn.forEach(ele=> {
    drawLine(ele.x1, ele.y1, ele.x2, ele.y2)
    //drawCircle(ele.x1,ele.y1)
    //drawCircle(ele.x2,ele.y2)
})
var smallhut = `[{"x1":172,"y1":144,"x2":310,"y2":43},{"x1":310,"y1":43,"x2":443,"y2":132},{"x1":443,"y1":132,"x2":175,"y2":143},{"x1":201,"y1":143,"x2":202,"y2":271},{"x1":202,"y1":271,"x2":428,"y2":263},{"x1":428,"y1":263,"x2":418,"y2":135},{"x1":256,"y1":163,"x2":325,"y2":159},{"x1":325,"y1":159,"x2":325,"y2":200},{"x1":325,"y1":200,"x2":260,"y2":204},{"x1":259,"y1":163,"x2":259,"y2":165},{"x1":262,"y1":202,"x2":263,"y2":165},{"x1":218,"y1":111,"x2":212,"y2":58},{"x1":212,"y1":58,"x2":260,"y2":57},{"x1":260,"y1":57,"x2":260,"y2":79},{"x1":227,"y1":57,"x2":227,"y2":26},{"x1":227,"y1":26,"x2":250,"y2":24},{"x1":250,"y1":24,"x2":250,"y2":54}]`

`[{"x1":5,"y1":44,"x2":791,"y2":44},{"x1":71,"y1":13,"x2":71,"y2":71},{"x1":701,"y1":5,"x2":701,"y2":95},{"x1":337,"y1":150,"x2":337,"y2":435},{"x1":337,"y1":435,"x2":702,"y2":45},{"x1":702,"y1":45,"x2":338,"y2":151},{"x1":338,"y1":151,"x2":71,"y2":44},{"x1":71,"y1":44,"x2":338,"y2":437},{"x1":518,"y1":100,"x2":518,"y2":243},{"x1":185,"y1":91,"x2":185,"y2":202},{"x1":187,"y1":91,"x2":701,"y2":47},{"x1":519,"y1":100,"x2":71,"y2":45}]`*/


using snap 
linedrawn = `[{"x1":175,"y1":68,"x2":710,"y2":68},{"x1":710,"y1":68,"x2":710,"y2":409},{"x1":710,"y1":409,"x2":175,"y2":409},{"x1":175,"y1":409,"x2":175,"y2":68},{"x1":175,"y1":68,"x2":175,"y2":409},{"x1":175,"y1":409,"x2":175,"y2":68},{"x1":175,"y1":68,"x2":175,"y2":68},{"x1":175,"y1":68,"x2":710,"y2":409},{"x1":175,"y1":409,"x2":710,"y2":68},{"x1":300,"y1":227,"x2":460,"y2":104},{"x1":460,"y1":104,"x2":604,"y2":237},{"x1":604,"y1":237,"x2":468,"y2":378},{"x1":468,"y1":378,"x2":300,"y2":227},{"x1":300,"y1":227,"x2":604,"y2":237},{"x1":460,"y1":104,"x2":468,"y2":378},{"x1":468,"y1":378,"x2":175,"y2":378},{"x1":175,"y1":68,"x2":333,"y2":68},{"x1":333,"y1":68,"x2":333,"y2":378},{"x1":333,"y1":68,"x2":510,"y2":68},{"x1":510,"y1":68,"x2":510,"y2":378},{"x1":710,"y1":409,"x2":710,"y2":378},{"x1":710,"y1":378,"x2":510,"y2":378}]`

// snapp to other end

// national memorandum
linedrawn = JSON.parse(`[{"x1":115,"y1":69,"x2":259,"y2":69},{"x1":115,"y1":69,"x2":115,"y2":138},{"x1":115,"y1":138,"x2":259,"y2":138},{"x1":259,"y1":138,"x2":418,"y2":311},{"x1":418,"y1":311,"x2":418,"y2":69},{"x1":418,"y1":69,"x2":343,"y2":69},{"x1":343,"y1":69,"x2":343,"y2":138},{"x1":517,"y1":97,"x2":517,"y2":116},{"x1":517,"y1":116,"x2":517,"y2":310},{"x1":517,"y1":310,"x2":795,"y2":124},{"x1":795,"y1":124,"x2":517,"y2":116},{"x1":517,"y1":310,"x2":795,"y2":310},{"x1":795,"y1":310,"x2":795,"y2":124},{"x1":795,"y1":310,"x2":995,"y2":310},{"x1":995,"y1":310,"x2":795,"y2":124},{"x1":343,"y1":138,"x2":259,"y2":69}]`)


linedrawn = JSON.parse(`[{"x1":522,"y1":474,"x2":869,"y2":474},{"x1":522,"y1":474,"x2":214,"y2":474},{"x1":522,"y1":59,"x2":522,"y2":121},{"x1":522,"y1":59,"x2":522,"y2":474},{"x1":522,"y1":121,"x2":574,"y2":471},{"x1":522,"y1":121,"x2":470,"y2":469},{"x1":505,"y1":235,"x2":416,"y2":468},{"x1":540,"y1":232,"x2":622,"y2":469},{"x1":566,"y1":301,"x2":661,"y2":469},{"x1":604,"y1":367,"x2":715,"y2":471},{"x1":652,"y1":410,"x2":776,"y2":474},{"x1":730,"y1":448,"x2":814,"y2":469},{"x1":475,"y1":308,"x2":370,"y2":472},{"x1":431,"y1":372,"x2":319,"y2":471},{"x1":378,"y1":418,"x2":274,"y2":470},{"x1":326,"y1":443,"x2":234,"y2":469},{"x1":543,"y1":60,"x2":543,"y2":233},{"x1":543,"y1":60,"x2":555,"y2":60},{"x1":555,"y1":60,"x2":555,"y2":261},{"x1":556,"y1":73,"x2":566,"y2":81},{"x1":566,"y1":81,"x2":571,"y2":89},{"x1":571,"y1":89,"x2":571,"y2":101},{"x1":571,"y1":101,"x2":571,"y2":116},{"x1":571,"y1":116,"x2":568,"y2":128},{"x1":568,"y1":128,"x2":563,"y2":143},{"x1":563,"y1":143,"x2":557,"y2":148},{"x1":557,"y1":148,"x2":546,"y2":147},{"x1":564,"y1":77,"x2":586,"y2":65},{"x1":586,"y1":65,"x2":607,"y2":65},{"x1":607,"y1":65,"x2":651,"y2":68},{"x1":651,"y1":68,"x2":668,"y2":74},{"x1":668,"y1":74,"x2":695,"y2":72},{"x1":695,"y1":72,"x2":715,"y2":50},{"x1":715,"y1":50,"x2":716,"y2":78},{"x1":716,"y1":78,"x2":708,"y2":105},{"x1":708,"y1":105,"x2":696,"y2":120},{"x1":696,"y1":120,"x2":719,"y2":140},{"x1":719,"y1":140,"x2":658,"y2":130},{"x1":658,"y1":130,"x2":629,"y2":129},{"x1":629,"y1":129,"x2":605,"y2":133},{"x1":605,"y1":133,"x2":585,"y2":144},{"x1":585,"y1":144,"x2":560,"y2":148}]`)